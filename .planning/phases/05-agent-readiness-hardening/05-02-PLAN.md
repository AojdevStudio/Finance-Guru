---
phase: 05-agent-readiness-hardening
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - .github/ISSUE_TEMPLATE/bug-report.yml
  - .github/ISSUE_TEMPLATE/feature-request.yml
  - .github/pull_request_template.md
  - .github/CODEOWNERS
  - .github/workflows/ci.yml
autonomous: true

must_haves:
  truths:
    - "GitHub shows structured bug report form when creating a new issue"
    - "GitHub shows structured feature request form when creating a new issue"
    - "PR creation pre-fills the PR template with summary, test plan, and review checklist"
    - "CODEOWNERS routes review requests to @AojdevStudio"
    - "CI workflow runs lint, type check, tests, and coverage on push and PR to main"
  artifacts:
    - path: ".github/ISSUE_TEMPLATE/bug-report.yml"
      provides: "Structured bug report form"
      contains: "type: textarea"
    - path: ".github/ISSUE_TEMPLATE/feature-request.yml"
      provides: "Structured feature request form"
      contains: "type: textarea"
    - path: ".github/pull_request_template.md"
      provides: "PR template with checklist"
      contains: "## Summary"
    - path: ".github/CODEOWNERS"
      provides: "Review routing"
      contains: "@AojdevStudio"
    - path: ".github/workflows/ci.yml"
      provides: "Lint + test + coverage CI pipeline"
      contains: "ruff check"
  key_links:
    - from: ".github/workflows/ci.yml"
      to: "pyproject.toml"
      via: "uv run ruff/mypy/pytest commands read config from pyproject.toml"
      pattern: "uv run ruff"
---

<objective>
Create GitHub issue templates (bug report, feature request), PR template, CODEOWNERS file, and CI workflow for lint + test + coverage.

Purpose: Provide structured issue creation, automated PR review routing, and a CI pipeline that enforces code quality on every push and PR. These are L2 agent readiness requirements.
Output: 5 new files in .github/ directory.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-agent-readiness-hardening/05-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create GitHub issue and PR templates</name>
  <files>
    .github/ISSUE_TEMPLATE/bug-report.yml
    .github/ISSUE_TEMPLATE/feature-request.yml
    .github/pull_request_template.md
  </files>
  <action>
Create the ISSUE_TEMPLATE directory and three template files.

**bug-report.yml** -- Use YAML form format with:
- Required textarea: Description ("What happened?")
- Textarea: Steps to Reproduce (pre-filled numbered list)
- Required textarea: Expected Behavior
- Required textarea: Actual Behavior
- Dropdown: Python Version (3.12, 3.13, Other)
- Dropdown: Operating System (macOS, Linux, WSL, Other)
- Labels: ["bug"]

Use the exact template from RESEARCH.md Pattern 4.

**feature-request.yml** -- YAML form format with:
- Required textarea: Problem Statement ("What problem does this solve?")
- Required textarea: Proposed Solution ("How would you implement this?")
- Textarea: Alternatives Considered (optional)
- Labels: ["enhancement"]

**pull_request_template.md** -- Markdown with:
- Summary section (bullet checklist)
- Test Plan section (checkbox: tests pass, lint clean, types clean)
- Review Checklist (checkbox: no secrets/PII, docs updated, coverage maintained)

Use the exact PR template from RESEARCH.md.
  </action>
  <verify>
All three files exist. YAML files are valid: `python -c "import yaml; yaml.safe_load(open('.github/ISSUE_TEMPLATE/bug-report.yml'))"` for each.
  </verify>
  <done>Bug report and feature request issue templates exist in YAML form format. PR template exists with summary, test plan, and review checklist.</done>
</task>

<task type="auto">
  <name>Task 2: Create CODEOWNERS and CI workflow</name>
  <files>
    .github/CODEOWNERS
    .github/workflows/ci.yml
  </files>
  <action>
**CODEOWNERS** -- Simple ownership mapping:
```
# Default owner for everything
* @AojdevStudio

# Core source code
/src/ @AojdevStudio
/tests/ @AojdevStudio

# Infrastructure and config
/setup.sh @AojdevStudio
/pyproject.toml @AojdevStudio
/.pre-commit-config.yaml @AojdevStudio
/.github/ @AojdevStudio
```

**ci.yml** -- GitHub Actions workflow:
- Trigger: push to main, PR to main
- Job: lint-and-test on ubuntu-latest
- Steps:
  1. checkout@v4
  2. setup-uv via `astral-sh/setup-uv@v6`
  3. `uv sync --dev`
  4. Ruff lint: `uv run ruff check .`
  5. Ruff format check: `uv run ruff format --check .`
  6. mypy: `uv run mypy src/`
  7. Tests with coverage: `uv run pytest --cov=src --cov-report=xml:coverage.xml --cov-report=term-missing --cov-fail-under=80`
  8. Coverage badge generation (on main branch only): `tj-actions/coverage-badge-py@v2` with output `coverage.svg`

NOTE: The `--cov-fail-under=80` in CI will fail until Plan 04/05 raise coverage. This is intentional -- CI is being set up now so it is ready when coverage reaches the threshold. Add a comment in the workflow noting this.

Actually, to avoid blocking PRs during the coverage ramp, initially set `--cov-fail-under=0` in CI with a TODO comment: `# TODO: Raise to 80 after Plan 05 coverage ramp`. Plan 05 will flip this to 80.
  </action>
  <verify>
`.github/CODEOWNERS` exists and contains `@AojdevStudio`. `.github/workflows/ci.yml` exists and contains the lint, type check, test, and coverage steps. YAML is valid.
  </verify>
  <done>CODEOWNERS routes all reviews to @AojdevStudio. CI workflow runs ruff, mypy, pytest with coverage on push/PR to main.</done>
</task>

</tasks>

<verification>
1. `.github/ISSUE_TEMPLATE/bug-report.yml` is valid YAML with form fields
2. `.github/ISSUE_TEMPLATE/feature-request.yml` is valid YAML with form fields
3. `.github/pull_request_template.md` contains Summary, Test Plan, Review Checklist sections
4. `.github/CODEOWNERS` contains `@AojdevStudio` ownership rules
5. `.github/workflows/ci.yml` contains ruff, mypy, pytest steps
</verification>

<success_criteria>
All five GitHub configuration files exist with correct content. Issue templates use YAML form format. CI workflow covers lint, type check, test, and coverage reporting.
</success_criteria>

<output>
After completion, create `.planning/phases/05-agent-readiness-hardening/05-02-SUMMARY.md`
</output>
