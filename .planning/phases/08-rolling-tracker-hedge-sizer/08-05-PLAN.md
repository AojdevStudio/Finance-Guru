---
phase: 08-rolling-tracker-hedge-sizer
plan: 05
type: execute
wave: 1
depends_on: []
files_modified:
  - fin-guru/data/hedging-strategies.md
  - fin-guru/data/options-insurance-framework.md
  - fin-guru/agents/strategy-advisor.md
  - fin-guru/agents/quant-analyst.md
  - fin-guru/agents/teaching-specialist.md
  - fin-guru/agents/compliance-officer.md
autonomous: true

must_haves:
  truths:
    - "hedging-strategies.md exists with quick-reference decision framework and deeper explanations"
    - "options-insurance-framework.md exists with the insurance analogy for options"
    - "Strategy Advisor agent definition references both knowledge files"
    - "Quant Analyst agent definition references both knowledge files"
    - "Teaching Specialist agent definition references both knowledge files"
    - "Compliance Officer agent definition references both knowledge files"
    - "Knowledge files include Sean's analogies: homeowners insurance for puts, rental property for dividends, private equity for equity growth"
  artifacts:
    - path: "fin-guru/data/hedging-strategies.md"
      provides: "Hedging strategy educational content for agent consumption"
      contains: "protective put"
    - path: "fin-guru/data/options-insurance-framework.md"
      provides: "Options-as-insurance educational framework"
      contains: "homeowners insurance"
    - path: "fin-guru/agents/strategy-advisor.md"
      provides: "Updated agent with hedging knowledge references"
      contains: "hedging-strategies.md"
    - path: "fin-guru/agents/quant-analyst.md"
      provides: "Updated agent with hedging knowledge references"
      contains: "hedging-strategies.md"
    - path: "fin-guru/agents/teaching-specialist.md"
      provides: "Updated agent with hedging knowledge references"
      contains: "hedging-strategies.md"
    - path: "fin-guru/agents/compliance-officer.md"
      provides: "Updated agent with hedging knowledge references"
      contains: "hedging-strategies.md"
  key_links:
    - from: "fin-guru/agents/strategy-advisor.md"
      to: "fin-guru/data/hedging-strategies.md"
      via: "Load COMPLETE file directive in critical-actions"
      pattern: "Load COMPLETE file.*hedging-strategies.md"
    - from: "fin-guru/agents/strategy-advisor.md"
      to: "fin-guru/data/options-insurance-framework.md"
      via: "Load COMPLETE file directive in critical-actions"
      pattern: "Load COMPLETE file.*options-insurance-framework.md"
---

<objective>
Create two knowledge base files for agent consumption and update four agent definitions to reference them. Covers HEDG-09 (knowledge files) and HEDG-10 (agent references).

Purpose: Agents need hedging context to provide informed strategy advice, teaching, quantitative analysis, and compliance review. These files encode educational hedging knowledge from Sean's advisory session.

Output: 2 knowledge files in fin-guru/data/ + 4 updated agent definitions in fin-guru/agents/
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@fin-guru/data/margin-strategy.md
@fin-guru/data/risk-framework.md
@fin-guru/agents/strategy-advisor.md
@fin-guru/agents/quant-analyst.md
@fin-guru/agents/teaching-specialist.md
@fin-guru/agents/compliance-officer.md
@.dev/meeting-notes/2026-01-30-paycheck-to-portfolio-sean-review.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create hedging-strategies.md and options-insurance-framework.md knowledge files</name>
  <files>fin-guru/data/hedging-strategies.md, fin-guru/data/options-insurance-framework.md</files>
  <action>
Create two knowledge base files following the established format from existing files like `margin-strategy.md` and `risk-framework.md`.

**File 1: `fin-guru/data/hedging-strategies.md`**

LOCKED structure: Quick-reference decision framework at top, deeper reference explanations below.

Content outline:
- HTML comment header: `<!-- Finance Guru(tm) Hedging Strategies | v1.0 | 2026-02-17 -->`
- Critical disclaimer block (educational only, not investment advice)
- **Quick Reference** section:
  - When to hedge (portfolio protection triggers)
  - Strategy selection matrix: Protective puts vs inverse ETFs vs collars
  - Sizing rule: ~1 contract per $50,000 portfolio value
  - Rolling cadence: maintain ~30 DTE, roll at 5-7 DTE
  - Strike selection: 10-20% OTM
  - Budget guideline: ~$500-600/month for $200k portfolio
- **Protective Put Strategy** section:
  - What it is, how it works
  - Cost structure (premium per contract, 100 shares per contract)
  - Payoff profile
  - Best for: defined-risk portfolio protection
- **Inverse ETF Strategy** section:
  - What it is (SQQQ, SH, SPXU)
  - Daily compounding / volatility drag warning
  - Best for: short-term tactical hedging
- **Rolling Strategy** section:
  - Why roll (maintain continuous protection)
  - When to roll (DTE window)
  - How to evaluate replacement contracts
  - Cost-to-roll calculation
- **Multi-Underlying Allocation** section:
  - Diversified hedging across QQQ, SPY, IWM
  - Weight allocation approach
  - Correlation benefit

LOCKED: Include Sean's analogies from `.dev/meeting-notes/2026-01-30-paycheck-to-portfolio-sean-review.md`:
- Homeowners insurance analogy for puts
- Rental property analogy for dividends
- Private equity analogy for equity growth

All content must be generic/educational. No personalized data.

**File 2: `fin-guru/data/options-insurance-framework.md`**

Content outline:
- HTML comment header: `<!-- Finance Guru(tm) Options Insurance Framework | v1.0 | 2026-02-17 -->`
- Critical disclaimer block
- **The Insurance Analogy** section:
  - Homeowners insurance = protective puts (LOCKED from Sean's session)
  - You pay a premium for coverage period
  - If nothing bad happens, premium is the cost of peace of mind
  - If disaster strikes, insurance pays out
  - Coverage amount (notional) vs premium cost vs deductible (OTM amount)
- **Options Terminology as Insurance Terms** section:
  - Premium = insurance premium
  - Strike price = deductible threshold
  - Expiration = policy term
  - In-the-money = claim triggered
  - Rolling = policy renewal
- **Black-Scholes and American Options** section (BS-01):
  - BS model assumes European exercise (at expiry only)
  - US equity options are American-style (exercise anytime)
  - Limitation: BS can undervalue deep ITM puts near expiry
  - Intrinsic value floor: American put price >= max(strike - spot, 0)
  - This adjustment is applied in Finance Guru's pricing
- **When Insurance Doesn't Pay** section:
  - Time decay (theta)
  - Market stays flat or rises
  - Cost of protection over time
  - When to self-insure vs buy protection
- **Sean's Three-Pillar Framework** section:
  - Pillar 1: Insurance (puts) -- protect what you have
  - Pillar 2: Rental income (dividends) -- generate cash flow
  - Pillar 3: Equity building (growth stocks) -- compound wealth
  </action>
  <verify>
    Verify both files exist: `ls fin-guru/data/hedging-strategies.md fin-guru/data/options-insurance-framework.md`
    Verify content includes key terms: grep for "protective put", "homeowners insurance", "intrinsic value floor", "Sean" in the files.
    Verify disclaimers present in both files.
  </verify>
  <done>
    Both knowledge files exist with quick-reference + deep-dive structure.
    Sean's analogies are incorporated.
    BS-01 American options limitation documented in options-insurance-framework.md.
    Educational disclaimers present.
    Content is generic (no personalized data).
  </done>
</task>

<task type="auto">
  <name>Task 2: Update four agent definitions to reference hedging knowledge files</name>
  <files>fin-guru/agents/strategy-advisor.md, fin-guru/agents/quant-analyst.md, fin-guru/agents/teaching-specialist.md, fin-guru/agents/compliance-officer.md</files>
  <action>
Add knowledge file reference directives to the `<critical-actions>` section of four agent definitions.

**For each of the 4 agents, add these two lines inside the existing `<critical-actions>` block, before the closing `</critical-actions>` tag:**

```xml
  <i>Load COMPLETE file {project-root}/fin-guru/data/hedging-strategies.md for hedging strategy context</i>
  <i>Load COMPLETE file {project-root}/fin-guru/data/options-insurance-framework.md for options-as-insurance education</i>
```

**Agent-specific placement:**

1. **strategy-advisor.md** (Elena Rodriguez-Park): Add after the existing `cashflow-policy.md` load directive. Strategy advisor needs hedging context for portfolio protection recommendations.

2. **quant-analyst.md** (Dr. Priya Desai): Add after existing knowledge file loads. Quant analyst needs hedging context for options pricing and risk calculations.

3. **teaching-specialist.md** (Maya Brooks): Add after existing knowledge file loads. Teaching specialist needs the insurance framework for educational explanations.

4. **compliance-officer.md**: Add after existing knowledge file loads (after `modern-income-vehicles.md`). Compliance officer needs hedging knowledge for risk assessment and strategy approval. LOCKED: 4 agents reference hedging knowledge (from CONTEXT.md).

**Important:**
- Read each agent file FIRST to find the exact position of the `</critical-actions>` tag
- Insert the two new lines BEFORE `</critical-actions>` but AFTER existing `<i>Load COMPLETE file...</i>` directives
- Do NOT modify any other part of the agent files
- Preserve exact formatting and indentation of existing content
  </action>
  <verify>
    Grep for "hedging-strategies.md" in all 4 agent files to confirm the reference was added.
    Grep for "options-insurance-framework.md" in all 4 agent files to confirm both references added.
    Verify no other content was modified by checking git diff shows only the 2-line additions per file.
  </verify>
  <done>
    All 4 agent definitions (strategy-advisor, quant-analyst, teaching-specialist, compliance-officer) reference both knowledge files.
    Only the critical-actions sections were modified.
    No other agent content was changed.
  </done>
</task>

</tasks>

<verification>
- `fin-guru/data/hedging-strategies.md` exists and contains "protective put", "homeowners insurance", "$50,000"
- `fin-guru/data/options-insurance-framework.md` exists and contains "intrinsic value floor", "American", "Sean"
- `grep -l "hedging-strategies.md" fin-guru/agents/*.md` returns 4 files
- `grep -l "options-insurance-framework.md" fin-guru/agents/*.md` returns 4 files
- Both knowledge files have educational disclaimers
</verification>

<success_criteria>
- Two knowledge base files exist with educational hedging content
- Four agent definitions updated with knowledge file references
- Sean's analogies incorporated
- BS-01 documented in options-insurance-framework.md
- All content is generic/educational (no personalized data)
</success_criteria>

<output>
After completion, create `.planning/phases/08-rolling-tracker-hedge-sizer/08-05-SUMMARY.md`
</output>
